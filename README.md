# Тестовое задание - пакетный менеджер

[Задание](task.md)


- [o] TODO:
  - [ ] readme:
    - [ ] моя интерпретация packets в файле
    - [ ] Makefile
    - [ ] config in HOME
    - [ ] always verbose
    - [ ] сравнение версий
    - [ ] absolute paths?
    - [ ] exclude re
    - [ ] нужны другие варианты подключения по ssh, кроме ssh-agent?
    - [ ] working directory
    - [ ] нет возможности рекурсивно добавить файлы (double star)
    - [ ] неэффективно хранить все пакеты в одной директории. Можно разбивать на поддиректории n-ной глубины или может заюзать sqlite
    - [ ] ...
  - [ ] packageDownloader -> downloader && packageUploader -> uploader ? Или наоборот?
  - [X] validate config
  - [X] log verbose:
    - [X] downloader
    - [X] uploader
  - [X] regexp replace all -> strings replace all?
  - [X] пакеты должны скачиваться по порядку
  - [ ] нужны другие варианты подключения по ssh, кроме ssh-agent?
  - [X] create path unless exists (in constructor?)
  - [X] проверить, что сохраняются пермишны
  - [X] overwrite warnings?
  - [ ] move package version & package version spec to pkg? + tests ?
  - [X] name -> type PackageName + validation + move to pkg?
  - [ ] recursive (double star)
  - [X] что означает "packets" в файле для упаковки packet.json?
  - [ ] tests for uploader/downloader configs from json/yaml
  - [ ] rename from(json|yaml): make exported?
  - [X] dedup files for uploader
  - [X] pretty printer для слайса стрингеров
  - [ ] разнобой с методами по значению/по указателю
  - [ ] what is tar ErrInsecurePath ?
  - [X] test absolute paths -- absolute paths work
  - [X] test ../../ paths
  - [ ] integration tests
  - [ ] shorten packageVersion -> pv & packageVersionSpec -> pvs ?
  - [X] sftpClient refactor : remotePath method
  - [ ] сделать архиватор отдельно (упаковка, распаковка)
  - [ ] enable more linters? https://golangci-lint.run/docs/linters/configuration/
  - [X] там, где var smth, var error: может, сделать именованные возвращаемые? -- нет
  - [ ] https://sftptogo.com/blog/go-sftp/ get host key
  - [ ] валидации наслаиваются, кажется по нескольку раз вызываю
  - [X] %q -> '%s' ? -- да вроде норм
  - [X] %s -> %q ?
  - [X] uploader:
    - [X] download packets
  - [X] remove "failed to"
  - [ ] выводить статистику после загрузки/выгрузки? (кол-во файлов, общий размер)
